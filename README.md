Дипломная работа по теме: Написание web-приложения с использованием фреймворка Django.


Автор: Карпов Илья Анатольевич


1. Введение

Обоснование выбора темы:

В современном мире взаимодействие между людьми имеет огромную роль. Этому способствует появление различных интернет-площадок, блогов, интернет-магазинов, соцсетей и т.п. Будучи жителем сельской местности, мне близка и понятна необходимость создания площадок для человеческого общения и взаимодействия не только людей между собой, но и людей с государственными структурами. Для того, чтобы сдать показания счетчиков потребляемых ресурсов, заказать справку о составе семьи, из соцзащиты и т.д. жителям сельской местности приходится идти в администрацию или на почту, тратя свое время. 
	Жители сельской местности ведут подсобные хозяйства, в которых выращивают сельскохозяйственные культуры, содержат животных, пчёл и птиц. Многие занимаются ремеслами, организуют небольшие кооперативы и артели, занимаются строительством и работой в сфере услуг, дополнительной образовательной деятельности и т.д. Реализация таких товаров и услуг напрямую связана с их рекламой и продвижением. 
	В настоящий момент взаимодействие между жителями села происходит на таких интернет-площадках, как VK, Telegram. Здесь происходит общение, обсуждение насущных проблем, реклама товаров и услуг. Но формат соцсетей не совсем подходит для таких целей, т.к. сообщения и товары просто пропадают в ворохе новых сообщений и рекламных постов. И человек, не мониторящий соцсети постоянно просто пропускает важные сообщения, например о плановом отключении электроэнергии. Очень трудно найти среди огромного количества постов необходимую услугу или товар от соседей, узнать их актуальность. Да, многие создают свои сайты или отдельные странички в тех же соцсетях, но это децентрализует взаимодействие и уследить за большим количеством ресурсов и сайтов становится всё труднее.
	На основании вышесказанного мною было принято решение создать некоммерческий проект по взаимодействию между жителями нашего поселения, а также близлежащих населенных пунктов. В данном веб-приложении станичники смогут не выходя из дома задавать свои вопросы администрации поселения, сдавать показания счетчиков учета потребленных ресурсов, заказывать различные справки и выписки. Кроме того на площадке люди смогут размещать свои товары и услуги, которые будут легко находиться их соседями. Важные новости всегда будут на виду и не будут теряться за ворохом не столь важных постов и комментариев. 
	Этот проект кажется мне важным и социально значимым. Мне бы хотелось, чтобы знания, полученные мною на курсе, послужили на пользу обществу. В рамках данного дипломного проекта реализована лишь часть задуманного мной веб-приложения. Мною была в полной мере реализована регистрация и аутентификация пользователей веб-приложения, создание пользовательского профиля и возможность его редактирования, а также в полной мере реализована торговая площадка, где любой пользователь может выложить свой товар, прикрепив к нему описание, фото и другую необходимую информацию, а при необходимости - удалить. Любой пользователь веб-приложения сможет отфильтровать выложенные товары по категориям.  


2. Выбор фреймворка для разработки веб-приложения
	В качестве фреймворка для разработки моего проекта я выбрал фреймворк Django. Основными причинами такого выбора стали:
- Простота. Создать простой сайт с помощью программирования на Django можно максимально быстро, обладая минимальными знаниями в Python. 
- Гибкость. Базовые функции фреймворка можно изменять и настраивать под потребности конкретного проекта. 
- Стандартизация. Разобраться в проекте на Django просто, если уже имел с ним дело. 
- Безопасность. В фреймворк уже встроены методы защиты и middleware, обеспечивающие безопасность данных пользователей и всего веб-приложения. 
- Удобное администрирование. Благодаря графическому административному интерфейсу проще управлять БД и содержимым сайта. 
- Популярность. У Django обширная документация и огромное сообщество лояльных разработчиков. Всегда можно найти ответ на возникший вопрос или получить совет. 
- Поддержка разных баз данных. Благодаря Django можно легко интегрировать веб-сервис с любой популярной БД без большого количества сложных настроек.

В качестве интерфейсного инструментария я использовал Bootstrap ведь он предлагает:
- Готовые решения. В Bootstrap есть типовые блоки для сайта, уже прописаны стили для разных элементов и даже имеются готовые скрипты. 
- Адаптивную вёрстку. Верстка создаётся сразу адаптивной и хорошо смотрится на экранах различных устройств. 
- Единый код. Благодаря тому, что используются одни и те же блоки и стили, написанный код получается более качественным и понятным. 
- Кроссбраузерность. Поскольку при создании страниц используются готовые компоненты, верстка сразу одинаково хорошо отображается во всех браузерах. 


3. Проектирование приложения
	 
Фронтенд-разработка:

Для взаимодействия с конечным пользователем платформы мною был разработан интуитивно понятный пользовательский интерфейс, стилизованный с помощью Bootstrap. 
	На главной странице приложения имеется навигационная панель, а также карточки со ссылками перехода в разделы "Товары", "Услуги", "Общий чат", "Взаимодействие с администрацией" (в рамках данной дипломной работы активен только раздел "Товары"). Навигационная панель "закреплена" за приложением и не пропадает при переходе на другие страницы. Кнопка "Новости" навигационной панели позволяет включать\отключать блок важных новостей, который будет наполняться администратором сайта. Кнопка "Главная страница" позволяет быстро вернуться на главную страницу приложения. Если пользователь не авторизирован, то для него отображаются кнопки "Войти" и "Зарегистрироваться", которые позволяют авторизироваться и зарегистрироваться на сайте. Если же пользователь вошел под своим логином, то для него отображаются кнопки "Мой профиль" (позволяет войти в профиль пользователя и отредактировать его) и "Выйти". Кнопка "?" показывает информацию о проекте.
	
 <img width="1184" alt="image" src="https://github.com/user-attachments/assets/040567e4-aea4-4cf9-8ea1-88481e2fbcb6" />
 Рис.1 Главная страница
 
 На странице регистрации пользователю предлагается ввести свои данные: логин, имя, фамилию, адрес электронной почты, а также дважды ввести пароль. Все поля обязательны к заполнению и программа не даст новому пользователю зарегистрироваться, если он пропустил какое-то поле. 
	
 ![image](https://github.com/user-attachments/assets/13776c82-bf58-454b-bb7a-e5c8e0f46a54)
 Рис.2 Регистрации нового пользователя
 
 После регистрации пользователь будет автоматически авторизирован (войдет под своим логином) и у него появится возможность изменить свой профиль. Для этого нужно нажать кнопку "Мой профиль" на навигационной панели. На странице профиля пользователь может изменить текущие данные профиля, а также добавить о себе дополнительную информацию: фото профиля(аватар, который будет впоследствии использоваться в чате), название компании (если пользователь будет выкладывать свои товары или услуги именно название компании будет отображаться в поле: Продавец), информацию о компании, телефонный номер (для связи с потенциальными клиентами)

 ![image](https://github.com/user-attachments/assets/9884e037-2d34-4ab4-a276-f27340df1c74)
 
 Рис.3 Профиль пользователя
 
 При нажатии на кнопку "В раздел" на карточке "Товары" пользователь попадает на страницу интернет-магазина, на которой в виде карточек отображены все товары, выложенные пользователями. Карточки содержат следующую информацию: фото товара, название, описание, данные продавца (название компании), контактный телефон, а также дату добавления товара на сайт. 
	
 ![image](https://github.com/user-attachments/assets/86974360-0d17-46fb-b90b-3fc27155cf79)

 Рис.4 Товары
 
Если пользователь не авторизирован, то ему доступно только меню выбора категории отображаемых товаров - "Выбрать категорию товаров". В этом меню можно выбрать необходимую категорию товаров, чтоб ускорить поиск необходимого продукта, либо выбрать "Показать все товары" для отображения всех загруженных на сайт товаров. 
	
 ![image](https://github.com/user-attachments/assets/b6993e69-60e4-48b8-9e5e-0bbbc563aa9a)

 Рис.5 Выбор категории товаров для отображения
 
Если пользователь авторизирован, то ему доступно меню "Мои товары". Нажатие на эту кнопку перенаправит пользователя на страницу с его товарами. Если пользователь не размещал своих товаров, то страница будет пустой. На странице "Мои товары" пользователю доступны две новые кнопки меню: "Добавить новый товар" и "Вернуться в раздел товаров" Если пользователем имеет товары, загруженные на сайт, то они будут отображены в виде карточек. Внизу каждого товара будет кнопка "Удалить товар", нажатие на которую вызовет модальное окно для подтверждения удаления данного товара с проекта. 
	
 ![image](https://github.com/user-attachments/assets/a78cf2cb-892d-456e-a1fa-34c6c4c46ea9)

 Рис.6 Мои товары
 
Нажатие на кнопку "Добавить новый товар" откроет для пользователя страницу добавления товара. Здесь пользователь может выбрать фото товара, написать название товара, выбрать категорию, к которой относится товар, написать описание товара и указать его стоимость. После нажатия кнопки "Добавить товар в магазин" товар будет размещен на сайте и доступен другим пользователям приложения.

![image](https://github.com/user-attachments/assets/a61a0b62-2d56-48f5-81bf-987b726ce155)

Рис.7 Добавление нового товара


Бэкенд-разработка:

Для регистрации и авторизации пользователя мною была использованы встроенная в Django модель регистрации, для чего был произведен импорт from django.contrib.auth.models import User. Для того, чтобы была возможность хранить больше данных о пользователе мною была создана модель Profile, связанная отношением "Один к одному" с моделью User. В файле signals.py прописан код, благодаря которому при создании нового пользователя автоматически создается новая строчка в таблице базы Profile, связанная с вновь зарегистрированным пользователем. Кроме этого мною была создана модель Product, описывающая товар, выкладываемый пользователем и связанная отношением "Один ко многим" с моделью User (одному пользователю могут принадлежать многие товары). Для большего удобства управления категориями товаров, для них также была создана отдельная модель, которая связана отношением "Один ко многим" с моделью Product. Таким образом можно динамически вносить изменения в названия категорий товаров и добавлять новые категории без вреда для базы данных. В модели Category добавлено поле slug, которое используется для фильтрации товаров и их отображения по категориям.

 ![image](https://github.com/user-attachments/assets/f998a8ec-16eb-403c-abf1-36d2d07a13d5)

 Рис.8 Модели

 Учитывая то, что пользователи могут загружать фото профиля и изображения своих товаров разного разрешения и соотношения сторон, мною было принято решение стандартизировать все изображения и привести их к единому разрешению 400х400 пикселей с помощью функции edit_image.
	
 ![image](https://github.com/user-attachments/assets/3698297c-0789-4a47-8527-d0975eda52cb)

 Рис.9 edit_image

 В файле forms.py мною были переопределены стандартные формы регистрации class NewUserCreationForm(UserCreationForm) и аутентификации class LoginForm(AuthenticationForm) пользователей. Я добавил виджеты и описания на русском языке для более эстетичного представления этих форм. Кроме того мною были написаны формы для редактирования данных пользователя class UpdateUserForm(forms.ModelForm) и данных его профиля class UpdateProfileForm(forms.ModelForm), а также форма добавления нового товара class ProductAddingForm(forms.ModelForm)
В файле urls.py прописаны все необходимые пути, а в файле views.py необходимые представления.

 ![image](https://github.com/user-attachments/assets/a190f806-9466-4524-86cd-8110290992d8)

 Рис.10 urls.py

 Шаблоны страниц хранятся в папке templates, используемые и загружаемые фотографии и картинки в папке static 

![image](https://github.com/user-attachments/assets/aa361638-7812-4014-9b36-05afc5178af3)

Рис.11 templates и static


4. Заключение

Обзор выполненной работы

Проектирование и разработка веб-приложения в рамках дипломного проекта было успешно завершены в соответствии с поставленной задачей. Приложение включает функционал регистрации, аутентификации пользователей с возможностью редактирования профиля, размещения ими товаров в разделе "Товары", с возможностью их удаления и фильтрации по категориям.

Дальнейшие планы

Планируется добавление в проект новых функций, таких как возможность сброса пароля по указанному при регистрации адресу электронной почты, разработка и добавление новых разделов: "Услуги", "Общий чат", "Взаимодействие с администрацией", добавление бокового выплывающего окна с полезной информацией: телефоны экстренных служб, расписание движения общественного транспорта, прогноз погоды. Кроме того планируется наладить связи с администрацией для осуществления взаимодействия и полноценного функционирования приложения в соответствии с изначальной задумкой. 
